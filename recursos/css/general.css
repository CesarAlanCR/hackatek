
:root{
	/* Paleta principal - tonos tierra y verde profesional */
	--bg-primary: #0f1419;
	--bg-secondary: #1a2332;
	--bg-card: #1e2936;
	--bg-card-hover: #242d3f;
	--green-1: #e8f5e4;
	--green-2: #aed581;
	--green-3: #7cb342;
	--green-4: #558b2f;
	--green-5: #33691e;
	--green-glow: rgba(124, 179, 66, 0.3);
	--accent: #66bb6a;
	--accent-hover: #81c784;
	--text-primary: #e4e9f2;
	--text-secondary: #9ca3b4;
	--text-muted: #6b7280;
	--border: rgba(124, 179, 66, 0.12);
	--border-hover: rgba(124, 179, 66, 0.25);
	
	/* Sistema de diseño */
	--max-width: 1200px;
	--radius: 12px;
	--radius-lg: 16px;
	--radius-xl: 24px;
	--shadow: 0 4px 24px rgba(0,0,0,0.2);
	--shadow-lg: 0 12px 48px rgba(0,0,0,0.35);
	--shadow-glow: 0 8px 32px var(--green-glow);
	--transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
	--transition-fast: all 0.2s ease-out;
	--transition-bounce: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

*{box-sizing:border-box}
html{scroll-behavior:smooth}
html,body{
	height:100%;
	margin:0;
	font-family:'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
	background:linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
	background-attachment:fixed;
	color:var(--text-primary);
	line-height:1.6;
	overflow-x:hidden;
}
.container{width:90%;max-width:var(--max-width);margin:0 auto;position:relative;z-index:1}

/* Header */
.site-header{
	background:rgba(30, 41, 54, 0.85);
	backdrop-filter:blur(12px);
	-webkit-backdrop-filter:blur(12px);
	padding:20px 0;
	border-bottom:1px solid var(--border);
	position:sticky;
	top:0;
	z-index:100;
	animation:slideDown 0.5s ease;
}
@keyframes slideDown{from{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}
.brand{margin:0;font-size:1.5rem;color:var(--accent);font-weight:800;letter-spacing:-0.5px}
.brand .muted{color:var(--text-secondary);font-weight:400;font-size:0.9rem;margin-left:8px}
.main-nav{float:right}
.main-nav a{
	color:var(--text-secondary);
	text-decoration:none;
	margin-left:24px;
	font-weight:600;
	transition:var(--transition-fast);
	position:relative;
}
.main-nav a::after{
	content:'';
	position:absolute;
	bottom:-4px;
	left:0;
	width:0;
	height:2px;
	background:var(--accent);
	transition:width 0.3s ease;
}
.main-nav a:hover{color:var(--accent)}
.main-nav a:hover::after{width:100%}

/* Hero */
.hero{
	padding:60px 0 40px;
	text-align:center;
	animation:heroEntrance 0.8s cubic-bezier(0.4, 0, 0.2, 1);
	position:relative;
}
.hero::before{
	content:'';
	position:absolute;
	top:50%;
	left:50%;
	transform:translate(-50%, -50%);
	width:600px;
	height:600px;
	background:radial-gradient(circle, var(--green-glow) 0%, transparent 70%);
	pointer-events:none;
	z-index:-1;
}
.hero h2{
	margin:0 0 16px 0;
	background:linear-gradient(135deg, var(--accent) 0%, var(--green-2) 100%);
	-webkit-background-clip:text;
	-webkit-text-fill-color:transparent;
	background-clip:text;
	font-size:2.8rem;
	font-weight:800;
	letter-spacing:-1px;
	line-height:1.1;
}
.lead{
	margin:0;
	color:var(--text-secondary);
	font-size:1.15rem;
	max-width:700px;
	margin:0 auto;
	line-height:1.7;
}

@keyframes heroEntrance{
	from{opacity:0;transform:translateY(30px) scale(0.95)}
	to{opacity:1;transform:translateY(0) scale(1)}
}
@keyframes fadeInUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}

/* Preview: Imágenes y Clima */
.preview-clima{margin:40px 0;animation:fadeInUp 0.8s ease 0.3s both}
.preview-grid{display:grid;grid-template-columns:1fr 1fr;gap:24px;align-items:center}
.preview-image img{width:100%;height:220px;object-fit:cover;border-radius:var(--radius-lg)}
/* Mapa interactivo */
#weather-map{
	width:100%;
	height:280px;
	border-radius:var(--radius-lg);
	border:1px solid var(--border);
	box-shadow:var(--shadow);
}
.preview-info ul{margin:12px 0 0 20px;color:var(--text-secondary)}
.preview-info ul li{margin-bottom:8px}

@media (max-width:720px){
	.preview-grid{grid-template-columns:1fr;gap:16px}
	.preview-image img{height:180px}
	#weather-map{height:220px}
}

/* Modules grid */
.modules{
	display:grid;
	grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
	gap:24px;
	margin:40px 0;
}
.card{
	background:var(--bg-card);
	border-radius:var(--radius-lg);
	padding:28px;
	box-shadow:var(--shadow);
	border:1px solid var(--border);
	position:relative;
	overflow:hidden;
	transition:var(--transition);
	backdrop-filter:blur(10px);
}
.card::before{
	content:'';
	position:absolute;
	top:0;
	left:0;
	right:0;
	height:4px;
	background:linear-gradient(90deg,var(--green-3),var(--accent));
	opacity:0;
	transition:opacity 0.3s ease;
	pointer-events:none; /* allow clicks through */
}
.card::after{
	content:'';
	position:absolute;
	inset:0;
	border-radius:var(--radius-lg);
	padding:1px;
	background:linear-gradient(135deg, var(--green-3), var(--accent));
	-webkit-mask:linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
	-webkit-mask-composite:xor;
	mask:linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
	mask-composite:exclude;
	opacity:0;
	transition:opacity 0.4s ease;
	pointer-events:none; /* ensure overlay does not block links/buttons */
}
.card:hover::before{opacity:1}
.card:hover::after{opacity:0.4}

.module-card{
	transition:var(--transition-bounce);
	cursor:pointer;
	transform-origin:center;
}
.module-card:focus{
	outline:3px solid var(--green-glow);
	outline-offset:3px;
	transform:translateY(-6px);
}
.module-card:hover{
	transform:translateY(-12px) scale(1.03);
	box-shadow:var(--shadow-glow);
	background:var(--bg-card-hover);
	border-color:var(--border-hover);
}
.module-card h3{
	margin:0 0 12px 0;
	color:var(--accent);
	font-size:1.35rem;
	font-weight:700;
	transition:var(--transition-fast);
	letter-spacing:-0.3px;
}
.module-card:hover h3{
	color:var(--accent-hover);
	transform:translateX(4px);
}
.module-card p{
	margin:0 0 20px 0;
	color:var(--text-secondary);
	font-size:0.95rem;
	line-height:1.6;
}
.modules .module-card a,
.modules .module-card a:link,
.modules .module-card a:visited,
.modules .module-card a:hover,
.modules .module-card a:active{
	text-decoration:none !important;
	-webkit-text-decoration-skip-ink: auto;
	text-decoration-skip-ink: auto;
	display:inline-flex; /* ensure proper button layout */
	align-items:center;
	justify-content:center;
	pointer-events:auto; /* explicitly allow pointer events */
	position:relative;
	z-index:6; /* sit above card pseudo-elements */
}

/* Extra: ensure buttons inside cards don't get underlined by UA/Bootstrap */
.modules .module-card .btn,
.modules .module-card .btn *{
	text-decoration: none !important;
}

.modules .module-card .btn{
	position:relative;
	z-index:7; /* ensure buttons are on top */
}

.btn{
	display:inline-block;
	padding:12px 24px;
	border-radius:var(--radius);
	border:0;
	font-weight:600;
	cursor:pointer;
	transition:var(--transition-bounce);
	text-decoration:none;
	text-align:center;
	font-size:0.95rem;
	position:relative;
	overflow:hidden;
}
.btn::before{
	content:'';
	position:absolute;
	inset:0;
	background:linear-gradient(135deg, transparent, rgba(255,255,255,0.1));
	transform:translateX(-100%);
	transition:transform 0.4s ease;
}
.btn:hover::before{transform:translateX(100%)}
.btn-primary{
	background:linear-gradient(135deg,var(--green-4),var(--accent));
	color:white;
	box-shadow:0 4px 16px rgba(124,179,66,0.35);
}
.btn-primary:hover{
	transform:translateY(-3px) scale(1.05);
	box-shadow:var(--shadow-glow);
}

/* Quick stats */
.quick-stats{margin:26px 0}
.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:12px}
.stat{background:linear-gradient(180deg,var(--green-1),white);padding:12px;border-radius:8px;border:1px solid rgba(47,143,68,0.04);text-align:center}
.stat strong{display:block;font-size:1.4rem;color:var(--green-4)}
.stat span{color:var(--muted);font-size:0.95rem}

/* Footer */
.site-footer{
	padding:32px 0;
	border-top:1px solid var(--border);
	margin-top:80px;
	text-align:center;
	color:var(--text-muted);
	font-size:0.9rem;
	background:rgba(15,20,25,0.4);
	backdrop-filter:blur(8px);
}

/* Modal */
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(10,12,8,0.45);opacity:0;pointer-events:none;transition:opacity .22s ease, transform .22s ease;z-index:99999}
.modal[aria-hidden="false"]{opacity:1;pointer-events:auto}
.modal-content{background:var(--bg-card);color:var(--text-primary);border-radius:var(--radius-lg);padding:18px;width:min(720px,94%);box-shadow:var(--shadow-lg);border:1px solid var(--border);z-index:100000;transform:translateY(8px) scale(0.98);transition:transform .22s cubic-bezier(.2,.8,.2,1),opacity .18s ease}
.modal[aria-hidden="false"] .modal-content{transform:translateY(0) scale(1);}
.modal-close{background:transparent;border:0;font-size:1.6rem;float:right;line-height:1;cursor:pointer;color:var(--text-secondary)}
.modal-close:focus{outline:3px solid var(--green-glow);outline-offset:4px;border-radius:6px}

/* Responsive touches */
@media (max-width:640px){
	.main-nav{display:none}
	.brand{font-size:1.2rem}
	.hero{padding:18px 0}
}

/* Accessibility small helpers */
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}

/* Chat styles */
/* Ocultar flechitas/spinners en inputs tipo number (cross-browser) */
/* Chrome, Safari, Edge, Opera */
input[type=number]::-webkit-outer-spin-button,
input[type=number]::-webkit-inner-spin-button {
	-webkit-appearance: none;
	appearance: none;
	margin: 0;
}
/* Firefox */
input[type=number] {
	-moz-appearance: textfield;
	appearance: none;
}

.chat-container{max-width:900px;margin:0 auto;padding:12px;height:calc(100vh - 40px);display:flex;flex-direction:column}
.chat-shell{flex:1;display:flex;flex-direction:column;border-radius:12px;overflow:hidden;border:1px solid rgba(47,143,68,0.06);box-shadow:var(--shadow);background:linear-gradient(180deg,white,var(--green-1))}
.chat-header{padding:12px 16px;border-bottom:1px solid rgba(47,143,68,0.04);background:transparent}
.chat-messages{flex:1;overflow:auto;padding:18px;display:flex;flex-direction:column;gap:12px}
.chat-form{padding:12px 16px;border-top:1px solid rgba(47,143,68,0.04);background:transparent}
.chat-preview-img{max-width:120px;max-height:120px;border-radius:8px}

.msg{max-width:78%;padding:10px 14px;border-radius:14px;line-height:1.35}
.msg.user{align-self:flex-end;background:var(--green-4);color:white;border-bottom-right-radius:4px}
.msg.ia{align-self:flex-start;background:var(--green-2);color:var(--green-4);border-bottom-left-radius:4px}
.msg .meta{font-size:0.8rem;color:var(--muted);margin-top:6px}

.chat-input-row{display:flex;align-items:center;gap:8px;width:100%}
.chat-input{flex:1;padding:10px;border-radius:10px;border:1px solid var(--green-3);min-height:44px;resize:vertical}
.chat-file{border:0}
.chat-send{padding:8px 14px;border-radius:8px;background:var(--green-4);color:white;border:0;font-weight:700}

@media (max-width:720px){
	.chat-container{padding:8px}
	.msg{max-width:92%}
}
